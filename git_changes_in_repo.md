  ### Запись изменений в репозиторий
  
  ![file_status_lifecycle](pic/file_status_lifecycle.png)
  
Каждый файл в вашем рабочем каталоге может находиться в одном из двух состояний: 
- ***под версионным контролем*** (отслеживаемые) 
- ***не под версионным контролем*** (неотслеживаемые). 

***Отслеживаемые файлы*** — это те файлы, которые были в последнем слепке состояния проекта (snapshot); они могут быть неизменёнными, изменёнными или подготовленными к коммиту (staged). 

***Неотслеживаемые файлы*** — это всё остальное, любые файлы в вашем рабочем каталоге, которые не входили в ваш последний слепок состояния и не подготовлены к коммиту. 

***Определения состояния файлов:***
```
git status
```
***Для того чтобы начать отслеживать все (добавить под версионный контроль, проиндексировать) файлы, используется команда:***
```
git add
```
***Чтобы добавить конкретный файл используется:***
```
git add file.txt
```

***Посмотреть что конкретно поменялось в файлах (до индексирования) и по конкретному файлу:***
```
git diff
git diff file.txt
```

***Посмотреть что конкретно поменялось в файлах уже после индексирования (после `git add . `) и до коммита:***
```
git diff --cached
git diff --staged
```
Это одно и то же.

***Для того чтобы удалить файл из Git'а***, вам необходимо удалить его из отслеживаемых файлов (точнее, удалить его из вашего индекса) а затем выполнить коммит. Это позволяет сделать команда:
```
git rm file.txt
```
***которая также удаляет файл из вашего рабочего каталога***, так что вы в следующий раз не увидите его как “неотслеживаемый”.

После следующего коммита файл исчезнет и больше не будет отслеживаться. Если вы изменили файл и уже проиндексировали его, вы должны использовать принудительное удаление с помощью параметра `-f`.
```
git rm file.txt -f
```

***Чтобы убрать файл из индекса, но не удалять***:
```
git rm file.txt --cached
```
Он просто перейдет в состояние `Untracked`. При этом останется на диске.

***В команду git rm можно передавать файлы, каталоги или glob-шаблоны.*** Это означает, что вы можете вытворять что-то вроде:
```
git rm log/\*.log
```
Обратите внимание на обратный слэш (`\`) перед `*.` Он необходим из-за того, что Git использует свой собственный обработчик имён файлов вдобавок к обработчику вашего командного интерпретатора. Эта команда удаляет все файлы, которые имеют расширение `.log` в каталоге `log/`. Или же вы можете сделать вот так:
```
git rm \*~
```
Эта команда удаляет все файлы, чьи имена заканчиваются на `~`.

***Чтобы переименовать файл используется команда:***
```
git mv file_from file_to
```
Однако, это эквивалентно выполнению следующих команд:
```
mv README.txt README
git rm README.txt
git add README
```

Git неявно определяет, что произошло переименование, поэтому неважно, переименуете вы файл так или используя команду `mv`. Единственное отличие состоит лишь в том, что mv — это одна команда вместо трёх — это функция для удобства. Важнее другое — вы можете использовать любой удобный способ, чтобы переименовать файл, и затем воспользоваться add/rm перед коммитом.
